<%- include ../head %>
  <body>
  
    <%- include navbar %>

    <div class="container">
      <div class="row">
        <div class="col-sm-3">
        
        <%- include left %>

        </div>
        <div class="col-sm-9">
          <div class="panel panel-primary">
          <div class="panel-heading">
            <i class="glyphicon glyphicon-bookmark"></i> 課題</div>
          <div class="panel-body">
            <p>ユーザーエージェントを取得して、PCサイトとスマートフォンサイトを切り替えましょう。ユーザーエージェントに「Android」、「iPhone」、「iPod」が含まれるときをスマートフォンサイトとします。</p>
            <p>また、Local Storageを使用し、ユーザーエージェントがPCであってもモバイルサイトが閲覧できるようにし、スマートフォンであってもPCサイトが閲覧できるようにしましょう。</p>
            <p>
              <a href="demo/js/excercise14/pc.html" target="_blank" class="btn btn-default">
              <i class="glyphicon glyphicon-play"></i> デモ
              </a>

              <button type="button" class="btn btn-danger" data-toggle="collapse" data-target="#demo">
              <i class="glyphicon glyphicon-question-sign"></i> 解答例
              </button>
            </p>

<div id="demo" class="collapse out">
pc.html
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html lang='ja'&gt;
  &lt;head&gt;
    &lt;meta charset='UTF-8'&gt;
    &lt;meta content='width=device-width, user-scalable=no' name='viewport'&gt;
    &lt;title&gt;
      PCサイト
    &lt;/title&gt;
    &lt;script src='http://code.jquery.com/jquery-1.10.2.min.js'&gt;&lt;/script&gt;
    &lt;script&gt;
      //DOMが構築される前
      
      //Storageがないとき
      if(!localStorage.access){
      
        //ユーザーエージェントがスマートフォンならスマートフォンサイトを表示
        if(navigator.userAgent.indexOf("Android") != -1 || navigator.userAgent.indexOf("iPhone") != -1 || navigator.userAgent.indexOf("iPod") != -1){
          window.location.href = "mobile.html";
        }
        //それ以外はStorageにpcを記録
        else{
          localStorage.access = 'pc';
        }
      }
      
      //Storageがmobileのときスマートフォンサイトサイトを表示
      else if(localStorage.access == "mobile"){
        window.location.href = "mobile.html";
      }
      
      //DOMが構築された後
      $(function(){
        //ボタンが押されたとき
        $("a").click(function(){
          localStorage.access = "mobile"
          window.location.href = "mobile.html";
        });
      });
    &lt;/script&gt;
    &lt;style&gt;
      
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;
      PCサイト
    &lt;/h1&gt;
    &lt;P&gt;
      &lt;a href='#'&gt;
        スマートフォンサイトへ
      &lt;/a&gt;
    &lt;/P&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

mobile.html
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html lang='ja'&gt;
  &lt;head&gt;
    &lt;meta charset='UTF-8'&gt;
    &lt;meta content='width=device-width, user-scalable=no' name='viewport'&gt;
    &lt;title&gt;
      PCサイト
    &lt;/title&gt;
    &lt;script src='http://code.jquery.com/jquery-1.10.2.min.js'&gt;&lt;/script&gt;
    &lt;script&gt;
      //DOMが構築される前
      
      //Storageがないとき
      if(!localStorage.access){
      
        //ユーザーエージェントがスマートフォンならスマートフォンサイトを表示
        if(navigator.userAgent.indexOf("Android") != -1 || navigator.userAgent.indexOf("iPhone") != -1 || navigator.userAgent.indexOf("iPod") != -1){
          window.location.href = "mobile.html";
        }
        //それ以外はStorageにpcを記録
        else{
          localStorage.access = 'pc';
        }
      }
      
      //Storageがmobileのときスマートフォンサイトサイトを表示
      else if(localStorage.access == "mobile"){
        window.location.href = "mobile.html";
      }
      
      //DOMが構築された後
      $(function(){
        //ボタンが押されたとき
        $("a").click(function(){
          localStorage.access = "mobile"
          window.location.href = "mobile.html";
        });
      });
    &lt;/script&gt;
    &lt;style&gt;
      
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;
      PCサイト
    &lt;/h1&gt;
    &lt;P&gt;
      &lt;a href='#'&gt;
        スマートフォンサイトへ
      &lt;/a&gt;
    &lt;/P&gt;
  &lt;/body&gt;
&lt;/html&gt;

</pre>

            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
    </div>

    <div id="footer"><%= title %></div>
 
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/google-code-prettify/prettify.js"></script>
    <script>prettyPrint();</script>
    <script src="js/bootstrap.min.js"></script>
    <script src="coffee/list-counter.js"></script>
  </body>
</html>