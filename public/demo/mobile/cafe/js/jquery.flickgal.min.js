/*

 jQuery flickGal 1.2.2
 
 Copyright (c) 2011 Soichi Takamura (http://stakam.net/jquery/flickgal/demo)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
*/
(function(){(function(){var m,F,G,H,B,d,n,r,s,i,t,b,u,g;b=navigator.userAgent.toLowerCase();i=b.indexOf("webkit")>=0?0:b.indexOf("gecko")>=0?1:b.indexOf("msie")>=0?2:b.indexOf("opera")>=0?3:4;u=b.indexOf("iphone")>=0||b.indexOf("ipad")>=0;b=b.indexOf("android")>=0;g=u||b;switch(i){case 0:d="-webkit-";break;case 1:d="-moz-";break;case 2:d="-ms-";break;case 3:d="-o-";break;case 4:d=""}n=d+"transform";r=i===0?"translate3d(":"translate(";s=i===0?"px,0,0)":"px,0)";m=g?"touchstart":"mousedown";F=g?"touchend":"mouseup";
G=g?"touchmove":"mousemove";H=i===0?"webkitTransitionEnd":i===3?"oTransitionEnd":"transitionend";B="orientationchange";b&&(B=""+B+" resize");t=function(b){return[r,b,s].join("")};window.jQuery.fn.flickGal=function(b){b=$.extend({infinitCarousel:false,lockScroll:true},b);return this.each(function(){var e,d,h,j,o,v,C,w,x,I,y,r,k,z,c,J,K,s,D,l,p,q,u,Q,L,A,M,E,f,N,O,P;h=$(this);d=$(".container",h).css({overflow:"hidden"});e=$(".containerInner",d).css({position:"relative",overflow:"hidden",top:0,left:0});
j=$(".item",e).css({"float":"left"});l=j.length;p=j.outerWidth(true);y=p*l;j=j.outerHeight(true);k=z=c=0;s=function(a){var c;try{if(c=window.parseInt(/(,.+?){3} (.+?)px/.exec(a.css(n))[2]),!window.isNaN(c))return c+z}catch(b){}return 0};D=function(){return i!==1?e.offset().left:s(e)};L=function(){z=d.offset().left;k=(d.innerWidth()-p)/2;return q(c)};o=$(".nav",h);v=o.find("a[href^=#]");C=v.parent();P=!(!o.length||!v.length||!C.length);x=$(".prev",h);w=$(".next",h);if(O=!(!x.length||!w.length))Q=function(){c=
c>0?c-1:b.infinitCarousel?l-1:c;return q(c)},u=function(){c=c<l-1?c+1:b.infinitCarousel?0:c;return q(c)},J=function(){x.add(w).removeClass("off");if(c===0)return x.addClass("off");else if(c===l-1)return w.addClass("off")};f=A=M=K=E=0;N=function(a){var d;d=g?a.touches[0]:a;switch(a.type){case G:b.lockScroll&&a.preventDefault();if(f&1){a=d.pageX-E;if(f&2&&(f&4&&a>0||f&8&&a<0))a/=2;return e.css(n,t(k+A+a))}break;case m:g||a.preventDefault();f|=1;c===0&&(f|=4);c===l-1&&(f|=8);if(f&4||f&8)f|=2;M=(new Date).getTime();
E=g?d.pageX:a.clientX;A=D()-z-k;h.trigger("fg_flickstart",[c]);if(e.hasClass("moving"))return e.removeClass("moving").css(n,t(k+A));break;case F:return f=A=0,K=g?a.changedTouches[0].pageX:a.clientX,a=r(),h.trigger("fg_flickend",[a]),q(a)}};o=function(){return e.removeClass("moving")};r=function(){var a,b,d;d=(new Date).getTime()-M;a=K-E;b=c;d<300&&Math.abs(a)>30?a>0?b--:b++:(a=D()-z,a=Math.abs(0+a-k-p/2),b=Math.floor(a/p));return Math.max(0,Math.min(b,l-1))};q=function(a){e.addClass("moving");c!==
a&&h.trigger("fg_change",[a]);c=a;e.css(n,t(k+p*c*-1));P&&C.removeClass("selected").eq(c).addClass("selected");if(O)return J()};d.height(j).scroll(function(){return $(this).scrollLeft(0)});e.height(j).width(y).css(n,t(D()));$(window).bind(g?B:"resize",L);L();P&&(C.eq(0).addClass("selected"),v.bind(m,function(){var a;a=v.index(this);q(a);return false}).bind("click",function(){return false}));O&&(x.bind(m,Q),w.bind(m,u),J());y=[G,m,F];return g?(I=e[0],$.each(y,function(a,b){return I.addEventListener(b,
N,false)}),I.addEventListener(H,o,false)):e.bind(y.join(" "),N).bind(H,o)})}}).call(this);})();
