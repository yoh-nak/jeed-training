extends ../../layout

block link
    include ../../link2

block content
    include ../navbar
    .container
        .row
            .col-sm-3
                include ../left
            .col-sm-9
                .panel.panel-primary
                    .panel-heading
                        i.glyphicon.glyphicon-book
                        | &nbsp;MongoDBのインストール
                    .panel-body
                        .alert.alert-info Windowsにインストール
                        p
                            | ① MongoDBをダウンロードする<br>
                            a(href='http://www.mongodb.org/downloads',target='_blank') http://www.mongodb.org/downloads
                        p ② C:\ にダウンロードしてきたzipを展開する
                        p ③ 展開したフォルダ名を mongodb に変更する
                        p ④　以下のフォルダを作成する
                        pre
                            :code
                                mkdir C:\mongodb\data C:\mongodb\logs
                        p ⑤ C:\mongodb\binにパスを通す
                        p ⑥ mongodbを起動
                        pre
                            :code
                                mongod --dbpath c:\mongodb\data --logpath c:\mongodb\logs\mongodb.log
                        p ⑦ 別のコマンドプロンプトからmongoシェルを扱う
                        hr
                        .alert.alert-info OSXにインストール
                        p: u MacPorts（長時間）
                            pre
                                :code
                                    sudo port install mongodb
                        p: u Homebrew（短時間）
                            pre
                                :code
                                    brew install mongodb
                        p /var/lib/mongodbを作成
                            pre
                                :code
                                    sudo mkdir /var/lib/mongodb
                        p /var/log/mongodb.logを作成
                            pre
                                :code
                                    sudo touch /var/log/mongodb.log
                        p mongodbの起動
                            pre
                                :code
                                    mongod --dbpath /var/lib/mongodb --logpath /var/log/mongodb.log

                        p 別のターミナルからmongoシェルを扱う
                        hr
                        .alert.alert-info Linuxにインストール
                        p: u CentOS
                        pre
                            :code
                                リポジトリの追加
                                64ビットの場合

                                # /etc/yum.repos.d/10gen.repo

                                [10gen]
                                name=10gen Repository
                                baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64
                                gpgcheck=0
                                enabled=1
                                32ビットの場合

                                # /etc/yum.repos.d/10gen.repo

                                [10gen]
                                name=10gen Repository
                                baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/i686
                                gpgcheck=0
                                enabled=1
                                インストール
                                $ sudo yum install mongo-10gen mongo-10gen-server
                                起動する
                                $ sudo service mongod start
                                停止する
                                $ sudo service mongod stop
                                再起動する
                                $ sudo service mongod restart
                                自動起動するように設定する
                                $ sudo chkconfig mongod on
                        p: u Ubuntu
                        pre
                            :code
                                1. パッケージ管理システム (APT) の設定
                                UbuntuはMongoDBのリポジトリへのアドレスを知らないので、それを設定ファイルに書いてやる。

                                まず、リポジトリの公開鍵を手に入れる。以下のコマンドをコンソールで実行する。
                                
                                sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10

                                続いて、/etc/apt/sources.list.d/10gen.listをエディタで開き（存在しないはずなので新規作成）、以下1行を書き込んで保存。
                                
                                deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen

                                次のコマンドを実行して、リポジトリを更新する。
                                
                                sudo apt-get update

                                次のコマンドを実行して、MongoDBをインストールする。
                                
                                sudo apt-get install mongodb-10gen

                                2. 設定ファイル 設定ファイルは /etc/mongodb.conf に、コントロールスクリプトは /etc/init.d/mongodb に置かれている。

                                3. MongoDBの実行 以下のコマンドを実行して、MongoDBのプロセスを開始する。
                                
                                sudo service mongodb start

                                以下のコマンドを実行して、MongoDBのプロセスを停止する。
                                
                                sudo service mongodb stop

                                以下のコマンドを実行して、MongoDBのプロセスを再起動する。
                                
                                sudo service mongodb restart
