<%- include ../head %>
  <body>
 
    <%- include navbar %>

    <div class="container">
      <div class="row">
        <div class="col-sm-3">

        <%- include left %>

        </div>
        <div class="col-sm-9">
          <div class="panel panel-primary">
          <div class="panel-heading">
            <i class="glyphicon glyphicon-book"></i> ユーザーエージェントの取得</div>
          <div class="panel-body">

            <h4>JavaScriptでユーザーエージェントを表示する</h4>
<p>ユーザーエージェントの取得はwindow.navigatorオブジェクトのuserAgentプロパティで取得することができます。</p>
<p>
<a href="https://developer.mozilla.org/ja/docs/Web/API/window.navigator" target="_blank" class="btn btn-default">
<i class="glyphicon glyphicon-info-sign"></i> 参考：navigatorオブジェクト
</a>
</p>
<pre class="prettyprint">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;ユーザーエージェントを表示してみる&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
document.write(navigator.userAgent);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<hr>
<h4>jQueryでユーザーエージェントを表示する</h4>
<pre class="prettyprint">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;ユーザーエージェントを表示してみる&lt;/title&gt;
&lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
$(function(){
    $("body").text(navigator.userAgent);
});
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<hr>

<h4>ユーザーエージェントに記録された文字列の有無を調べる</h4>
<p>一般的にはモバイル向け端末にはユーザーエージェントに「Mobile」というキーワードが入っていることが多いですが、iPadには「Mobile」の文字列が記録されているため、iPhoneとiPadを区別することはできません。アップル社製品は、iPhoneには「iPhone」、iPodタッチには「iPot」、iPadには「iPad」の文字列がユーザーエージェントに記録されています。
</p>
<p>Androidには「Android」の文字列が記録されていますが、スマートフォンとタブレットを識別することはできません。 ただしAndroidのタブレットには、「Mobile」の文字列が記録されていないことが多いです。</p>

<p>
<a href="http://www.openspc2.org/userAgent/" target="_blank" class="btn btn-default">
<i class="glyphicon glyphicon-info-sign"></i> 参考：ユーザーエージェント一覧
</a>
</p>

<hr>
<h4>StringオブジェクトのindexOfメソッド</h4>
<p>StringオブジェクトはJavaScriptのコアオブジェクトの一つで、文字列型のデータに対して、プロパティおよびメソッドを指定することができます。</p>
<p>
<a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" class="btn btn-default">
<i class="glyphicon glyphicon-info-sign"></i> 参考：Stringオブジェクト
</a>
</p>
<p>今回は取得したユーザーエージェントの文字列に、特定の文字列が何個含まれているをカウントするindexOfメソッドを使うことで、「iPhone」などの特定の文字がユーザーエージェントの文字列に含まれているかどうか判定してみます。含まれていなければ「-1」が取得でき、含まれていればユーザーエージェントに含まれる「iPhone」の文字列の数が取得できます。含まれている場合は取得できる数値が曖昧なため「-1」が取得できるか、できないかで「iPhone」かとうかを判定できます。
</p>
<p>
<a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" target="_blank" class="btn btn-default">
<i class="glyphicon glyphicon-info-sign"></i> 参考：indexOfメソッド
</a>
</p>
<pre class="prettyprint">
var ua = navigator.userAgent;
var iphone = ua.indexOf('iPhone');
if(iphone != -1){
  console.log('iPhoneです');
}
else{
  console.log('iPhoneではありません');
}
</pre>
<p>以下のようにまとめて記述することもできます。</p>
<pre class="prettyprint">
if(navigator.userAgent.indexOf('iPhone') != -1){
  console.log('iPhoneです');
}
else{
  console.log('iPhoneではありません');
}
</pre>
          </div>
          </div>
        </div>
      </div>
    </div>
    </div>

    <div id="footer"><%= title %></div>
 
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/google-code-prettify/prettify.js"></script>
    <script>prettyPrint();</script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/list-counter.js"></script>
  </body>
</html>