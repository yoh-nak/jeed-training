<!DOCTYPE html>
<html lang='ja'>
  <head>
    <meta charset='UTF-8'>
    <meta content='width=device-width, user-scalable=no' name='viewport'>
    <meta content='yes' name='apple-mobile-web-app-capable'>
    <script src='enchant.min.js'></script>
    <script src='plugins/tl.enchant.js'></script>
    <script>
      enchant();
      
      var SCREEN_WIDTH = 320;
      var SCREEN_HEIGHT = 320;
      var CHARA_IMAGE  = 'http://enchantjs.com/images/materials/chara1.png';
      
      window.onload = function() {
      	
          var core = new Core(SCREEN_WIDTH, SCREEN_HEIGHT);
      	
      	core.preload(CHARA_IMAGE);
      
          core.onload = function() {
          	
      		var scene = core.rootScene;
      
      		scene.backgroundColor = 'black';
      		
      		var sprite = new Sprite(32, 32);
      		sprite.moveTo(-50, -50);
      		sprite.image = core.assets[CHARA_IMAGE];
      		scene.addChild(sprite);
      
      		sprite.tl.moveTo(160-16, 160-16, 30).cue({
      			0: function(){ this.frame = 1; },
      			30: function(){ this.frame = 2; },
      			60: function(){ this.frame = 3; },
      			90: function(){ this.frame = 4; },
      			120: function(){ this.frame = 5; },
      			150: function(){ this.frame = 6; },
      			180: function(){ this.frame = 7; },
      			210: function(){ this.frame = 8; },
      			240: function(){ this.frame = 10; },
      			270: function(){ this.frame = 11; },
      			300: function(){ this.frame = 12; },
      			330: function(){ this.frame = 13; },
      			360: function(){
      				this.frame = 0;
      				alert('アニメーションを完了しました！！');
      			}
      		});
          };
      
          core.start();
      };
    </script>
    <style>
      body {
        margin: 0; }
    </style>
  </head>
  <body></body>
</html>
