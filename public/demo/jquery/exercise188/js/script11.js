// Generated by CoffeeScript 1.7.1
(function() {
  $(function() {
    $('#slide li:last-child').prependTo('#slide');
    $('#slide').css('margin-left', '-320px');
    $('#slide a').click(function() {
      return false;
    }).on('touchstart', function() {
      $('#slide').data('href', $(this).attr('href'));
    });
    $('#slide').on('touchstart', function(evnet) {
      event.preventDefault();
      $(this).data('startX', event.touches[0].pageX).data('startY', event.touches[0].pageY).data('moveX', 0).data('moveY', 0);
    }).on('touchmove', function() {
      $(this).data('moveX', event.touches[0].pageX - $(this).data('startX')).data('moveY', event.touches[0].pageY - $(this).data('startY')).css('margin-left', $(this).data('moveX') - 320 + 'px');
    }).on('touchend', function() {
      if ($(this).data('moveX') > 10) {
        $(this).animate({
          'margin-left': 0
        }, function() {
          $(this).css('margin-left', '-320px');
          $('#slide li:last-child').prependTo('#slide');
        });
      } else if ($(this).data('moveX') < -10) {
        $(this).animate({
          'margin-left': -640
        }, function() {
          $(this).css('margin-left', '-320px');
          return $('#slide li:first-child').appendTo('#slide');
        });
        return;
      } else if ($(this).data('moveY') > -10 && $(this).data('moveY') < 10) {
        location.href = $(this).data('href');
      } else {
        $(this).animate({
          'margin-left': -320
        });
      }
    });
  });

}).call(this);
