<!DOCTYPE HTML>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
<script>
$(document).on('pageshow','#index',function(){

    show('阪神タイガース');

    //検索ボックス
    $('#index').on('keypress','#search',function(e){
        show($('#search').val());
    });
});

function show(keyword){
    $.ajax({
        url: 'https://www.googleapis.com/youtube/v3/search',
        dataType: 'jsonp',
        type: 'GET',
        data: 'part=snippet&maxResults=50&q=' + keyword + '&max-result=50&key=AIzaSyCLpk_z1gbA423gb9CtUVAW3NmXO65Si2Q',
        success:function(data){
            console.log(data);

            var html = '';
            for(var i = 0; i < data.items.length; i++){
                console.log(data.items[i].id.videoId);
                html += '<li><a href="http://www.youtube.com/watch?v=' + data.items[i].id.videoId  + '" target="_blank">\
                <img src="' + data.items[i].snippet.thumbnails.high.url + '">\
                <h2>' + data.items[i].snippet.title + '</h2>\
                <p>' + data.items[i].snippet.description + '</p>\
                <p class="ui-li-aside">' + data.items[i].snippet.publishedAt + '</p>\
                </a></li>'
            }

            $('[data-role="listview"]').html(html).listview('refresh');
        }
    });
}
</script>
<style>
.ui-li-thumb{
    width:300px;
    height:300px;
}
</style>
</head>
<body>
<div data-role="page" id="index">
    <div data-role="header">
        <h1>Youtube Data API v3</h1>
    </div>
    <div data-role="content">
        <input type="search" id="search">
        <ul data-role="listview" data-inset="true">
        </ul>
    </div>
    <div data-role="footer" data-position="fixed">
        <h4>Copyright &copy; ナカノヨウスケ</h4>
    </div>
</div>
</body>
</html>