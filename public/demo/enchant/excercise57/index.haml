!!!
%html(lang="ja")
	%head
		%meta(charset="UTF-8")
		%meta(name="viewport" content="width=device-width, user-scalable=no")
		%meta(name="apple-mobile-web-app-capable" content="yes")
		%script(src="enchant.min.js")
		:javascript
			enchant();

			var SCREEN_WIDTH = 320;
			var SCREEN_HEIGHT = 320;
			var SAMPLE_BGM = 'http://www.hmix.net/music/c/c6.mp3';

			window.onload = function() {
			    var core = new Core(SCREEN_WIDTH, SCREEN_HEIGHT);

			    core.preload(SAMPLE_BGM);
				
			    core.onload = function() {
			    	
					var scene = core.rootScene;

					scene.backgroundColor = 'black';

					var stateLabel = new Label('停止中！');
					stateLabel.moveTo(10, 10);
					stateLabel.color = 'white';
					stateLabel.font = '16px "consolas", "Monaco", "MS　ゴシック"';
					scene.addChild(stateLabel);

					var playEntity = new Entity();
					playEntity.width = 50;
					playEntity.height = 50;

					playEntity.moveTo(160-25-80, 160-25);
					playEntity.backgroundColor = 'red';
					
					playEntity.ontouchstart = function(){
						var bgm = core.assets[SAMPLE_BGM];
						bgm.play();
						stateLabel.text = '再生中！';
					};
					
					scene.addChild(playEntity);

					var pauseEntity = new Entity();
					pauseEntity.width = 50;
					pauseEntity.height = 50;

					pauseEntity.moveTo(160-25, 160-25);
					pauseEntity.backgroundColor = 'green';
					
					pauseEntity.ontouchstart = function(){
						var bgm = core.assets[SAMPLE_BGM];
						bgm.pause();
						stateLabel.text = '中断！';
					};

					scene.addChild(pauseEntity);
						
					var stopEntity = new Entity();
					stopEntity.width = 50;
					stopEntity.height = 50;

					stopEntity.moveTo(160-25+80, 160-25);
					stopEntity.backgroundColor = 'blue';
					
					stopEntity.ontouchstart = function(){
						var bgm = core.assets[SAMPLE_BGM];
						bgm.stop();
						stateLabel.text = '停止中！';
					};
					
					scene.addChild(stopEntity);	
					
			    };
			    core.start();
			};
		:scss
			body {
				margin: 0;
			}
	%body

