<!DOCTYPE html>
<html lang='ja'>
  <head>
    <meta charset='UTF-8'>
    <meta content='width=device-width, user-scalable=no' name='viewport'>
    <link href='http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css' rel='stylesheet'>
    <script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>
    <script src='http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js'>;</script>
    <title>
      オブジェクトの取得
    </title>
    <script>
      var test = {
      	'国語': 90,
      	'算数': 80,
      	'理科': 70,
      	'社会': 60,
      	'英語': 50
      }
      
      $(document).on('pagebeforecreate','#index',function(){
      
      	var sum = cnt =  0;
      	
      	for(var i = 0; i < _.keys(test).length; i++){
      		$('.ui-grid-a').append('<div class="ui-block-a"><div class="ui-bar ui-bar-c">' + _.keys(test)[i] + '</div></div>');
      		$('.ui-grid-a').append('<div class="ui-block-b"><div class="ui-bar ui-bar-c">' + test[_.keys(test)[i]] + '点</div></div>');	
      
      		sum += test[_.keys(test)[i]];	
      		cnt++;					
      	}
      	
      	var average = sum / cnt;
      
      	$('.ui-grid-a').append('<div class="ui-block-a"><div class="ui-bar ui-bar-b">平均</div></div>');
      	$('.ui-grid-a').append('<div class="ui-block-b"><div class="ui-bar ui-bar-b">' + average + '点</div></div>');
      	
      });
    </script>
    <style>
      /**/
    </style>
  </head>
  <body>
    <div data-role='page' id='index'>
      <div data-role='header'>
        <h1>
          オブジェクトの取得
        </h1>
      </div>
      <div data-role='content'>
        <h2>
          テスト結果
        </h2>
        <div class='ui-grid-a'></div>
      </div>
      <div data-position='fixed' data-role='footer'>
        <h4>
          Copyright &copy; ナカノヨウスケ
        </h4>
      </div>
    </div>
  </body>
</html>
